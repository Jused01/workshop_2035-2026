:root {
  --bg: #0f1724; /* deep navy */
  --panel: rgba(15,23,36,0.6);
  --muted: #9aa4b2;
  --accent: #8b5cf6; /* purple */
  --accent-2: #f59e0b; /* amber */
  --glass: rgba(255,255,255,0.04);
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  line-height: 1.45;
  font-weight: 400;
  color-scheme: dark;
  color: #e6eef8;
  background-color: var(--bg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a {
  font-weight: 500;
  color: #646cff;
  text-decoration: inherit;
}
a:hover {
  color: #535bf2;
}

body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
  background-image: radial-gradient(circle at 10% 10%, rgba(139,92,246,0.06), transparent 10%), radial-gradient(circle at 90% 90%, rgba(245,158,11,0.03), transparent 18%);
}

h1 {
  font-size: 3.2em;
  line-height: 1.1;
}

button {
  border-radius: 12px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 600;
  font-family: inherit;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  color: #fff;
  cursor: pointer;
  transition: transform 0.12s ease, box-shadow 0.12s ease, opacity 0.12s;
  box-shadow: 0 6px 18px rgba(2,6,23,0.6);
}
button:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 30px rgba(2,6,23,0.7);
}
button:active { transform: translateY(0); }
button:focus { outline: 3px solid rgba(139,92,246,0.22); }

.btn-accent { background: linear-gradient(90deg, var(--accent), #6d28d9); border: none; }
.btn-ghost { background: transparent; border: 1px solid rgba(255,255,255,0.06); color: var(--muted); }
.panel { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius: 14px; padding: 1rem; border: 1px solid rgba(255,255,255,0.04); }
.muted { color: var(--muted); }
.title { font-weight: 800; letter-spacing: -0.02em; }

/* App centered root */
.app-root { min-height: 100vh; display:flex; align-items:center; justify-content:center; padding:24px; }
.app-container { width:100%; max-width:1100px; display:flex; align-items:center; justify-content:center; }
.centered { display:flex; align-items:center; justify-content:center; }

/* Landing / Home styles */
.landing-root { max-width: 1100px; margin: 0 auto; padding: 28px; min-height: calc(100vh - 40px); display:flex; flex-direction:column; align-items:center; justify-content:center; gap:18px; position: relative; z-index: 10; }
.landing-title { font-size: 48px; text-align: center; color: white; margin: 8px 0 12px; display:flex; align-items:center; justify-content:center; gap:12px; letter-spacing: -0.02em; }
.landing-title .icon { color: var(--accent-2); transform: translateY(-4px); }
.landing-subtitle { text-align:center; color: var(--muted); margin-bottom: 18px; max-width: 820px; }
.game-area { display:flex; gap:28px; align-items:center; justify-content:center; width:100%; flex-wrap:wrap; }
.game-canvas { border-radius: 16px; box-shadow: 0 18px 60px rgba(2,6,23,0.7); border: 1px solid rgba(255,255,255,0.03); max-width: 100%; height: auto; display:block; }
.info-grid { display:grid; grid-template-columns: repeat(3, 1fr); gap: 18px; flex:1; max-width: 420px; }
.card-text { color: var(--muted); font-size: 14px; line-height: 1.45; }
.card-title { font-weight:700; }

/* Decorative blobs on landing */
.landing-decor { position: absolute; width: 100%; height: 100%; top: 0; left: 0; pointer-events: none; z-index: 0; }
.blob-left, .blob-right { position: absolute; border-radius: 50%; filter: blur(32px); opacity: 0.28; transform: translateZ(0); }
.blob-left { width: 320px; height: 320px; left: -80px; top: -60px; background: radial-gradient(circle at 30% 30%, rgba(139,92,246,0.15), transparent 40%); }
.blob-right { width: 420px; height: 420px; right: -120px; bottom: -80px; background: radial-gradient(circle at 60% 60%, rgba(245,158,11,0.12), transparent 45%); }

/* Keyboard hint grid */
.kbd-grid { display:flex; gap:8px; align-items:center; margin-bottom:8px; }
.kbd { background: rgba(255,255,255,0.03); padding:6px 10px; border-radius:8px; border:1px solid rgba(255,255,255,0.02); }
.kbd--down { display:flex; align-items:center; }

/* Modal spacing tweaks */
.modal { max-width: 520px; width: calc(100% - 48px); }
.modal .modal-header { gap: 14px; }
.modal .icon { width: 38px; height: 38px; }

/* Responsive rules */
@media (max-width: 940px) {
  .landing-root { padding: 18px; }
  .landing-title { font-size: 38px; }
  .game-area { flex-direction:column-reverse; gap:18px; }
  .info-grid { grid-template-columns: 1fr; max-width: 560px; width:100%; }
  .game-canvas { width: 100%; height: auto; border-radius: 12px; }
}

@media (max-width: 520px) {
  .landing-title { font-size: 28px; }
  .landing-subtitle { font-size: 14px; }
  .blob-left, .blob-right { display:none; }
}

/* Game room three-column layout: left instructions, center puzzle, right chat */
.game-grid { display: grid; gap: 4rem; }
@media (min-width: 1024px) {
  /* Sides take the outer space (full left/right), center stays fixed and dominant */
  /* left 1fr | center fixed range | right 1fr */
  .game-grid { grid-template-columns: 1fr minmax(720px, 980px) 1fr; align-items: start; column-gap: 2rem; }
}
.card { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); padding: 18px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.03); }
.card-header { display:flex; gap:12px; align-items:center; margin-bottom:12px; }
.card-title { font-weight:700; }
.kbd { background: rgba(255,255,255,0.03); padding:6px 10px; border-radius:8px; border:1px solid rgba(255,255,255,0.02); }

.modal-overlay { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background: rgba(2,6,23,0.6); }
.modal { width:480px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); padding:20px; border-radius:14px; border:1px solid rgba(255,255,255,0.04); box-shadow: 0 20px 60px rgba(2,6,23,0.6); }
.modal-header { display:flex; gap:12px; align-items:center; margin-bottom:12px; }
.modal-title { font-size:20px; font-weight:700; }
.modal-subtitle { color: var(--muted); }
.text-input { width:100%; padding:12px; border-radius:10px; border:1px solid rgba(255,255,255,0.04); background: rgba(255,255,255,0.02); color: #fff; margin-bottom:8px; }
.primary-btn { width:100%; padding:12px; border-radius:10px; background: linear-gradient(90deg, var(--accent), #6d28d9); border:none; color:white; font-weight:700; box-shadow: 0 10px 30px rgba(139,92,246,0.12); }
.primary-btn:disabled { opacity:0.6; cursor:not-allowed; }
.error-box { color: #ffb4b4; margin-top:8px; }

.mode-btn { display:flex; align-items:center; justify-content:center; gap:8px; padding:10px 12px; border-radius:10px; background: rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.02); color:#e6eef8; min-height:44px; }
.mode-btn.active { background: linear-gradient(90deg, rgba(139,92,246,0.18), rgba(245,158,11,0.06)); border:1px solid rgba(139,92,246,0.28); box-shadow: 0 8px 20px rgba(139,92,246,0.06); transform: translateY(-2px); }

.modes { display:grid; grid-template-columns: repeat(3, 1fr); gap:8px; }

/* Puzzle inner container to avoid narrow text columns */
.puzzle-inner { max-width: 980px; margin: 0 auto; padding: 0 18px; }
.puzzle-inner h2, .puzzle-inner h3 { line-height: 1.05; }
.puzzle-inner p { line-height: 1.8; font-size: 17px; }

/* Ensure side panels visually stick to edges while their inner cards remain readable */
.side-panel-left, .side-panel-right { display:flex; align-items:flex-start; }
.side-panel-left .panel, .side-panel-right .panel { width: 100%; }
.side-panel-right { justify-content: flex-end; }
@media (prefers-color-scheme: light) {
  :root {
    color: #213547;
    background-color: #ffffff;
  }
  a:hover {
    color: #747bff;
  }
  button {
    background-color: #f9f9f9;
  }
}
